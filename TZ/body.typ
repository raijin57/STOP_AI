#import "data.typ": data
#import "list.typ": *
#import "table.typ": *

#set heading(numbering: "1.1.1.1.1.1.1.")
#set figure.caption(separator: [ -- ])

#show figure.where(kind: table): it => [
  #if it.caption != none { it.caption }
  #v(0.25em)
  #it.body
]

= ВВЕДЕНИЕ

== Наименование программы
#listhead2[Наименование программного продукта — "#data.project_name".]
#list2[Наименование на английском языке — "#data.project_name_english".]
#list2[Краткое наименование программы — "StopAI".]

== Краткая характеристика области применения программы
#listhead2[
В настоящее время использование нейросетей и LLM-сервисов быстро входит в повседневные процессы обучения и работы: от поиска информации и написания текстов до подготовки решений в профессиональной деятельности. Наряду с ростом удобства и производительности усиливаются и негативные эффекты: снижение концентрации и креативности при постоянном обращении к LLM, риск утечки приватных и конфиденциальных данных при отправке запросов во внешние сервисы, академическая нечестность в образовательной среде, а также недопустимость приблизительных ответов в сферах с высокой ценой ошибки (финансы, медицина, юриспруденция).
]
#list2[
Указанные проблемы формируют запрос на инструменты управляемого «AI-детокса» и комплаенс-контроля: от мягких режимов ограничения до строгих сценариев, исключающих обход. Целевыми пользователями и заказчиками решения выступают образовательные учреждения, детокс-энтузиасты, компании и государственные структуры, работающие с конфиденциальными данными, а также отрасли с нулевой толерантностью к ошибкам.
]
#list2[
Настоящее техническое задание описывает разработку прикладного программного продукта «Приложение для контроля использования искусственного интеллекта „StopAI“», предназначенного для ограничения взаимодействий с LLM-сервисами и формирования дисциплины цифрового фокуса. В рамках MVP предусматриваются: блокировка LLM-доменов и приложений, таймер и расписания ограничений, локальные отчёты и счётчик промптов, а также автономная офлайн-работа.
]
#list2[
Область применения продукта — персональная и корпоративная/образовательная цифровая гигиена и контроль использования AI-инструментов на устройствах пользователя. Решение должно поддерживать Windows, macOS, Android, iOS и браузеры, с гибридной реализацией (web + native компоненты).
]

= ОСНОВАНИЯ ДЛЯ РАЗРАБОТКИ

== Документ(ы), на основании которого(ых) ведется разработка
#listhead2[
Разработка ведется на основании учебного плана подготовки бакалавров по направлению 
09.03.04 «Программная инженерия» и утвержденной преподавателем курса «Групповая динамика и коммуникации в профессиональной практике программной инженерии» темы  проекта.
]

== Наименование темы разработки
#listhead2[Наименование — "#data.project_name".]
#list2[Наименование на английском — "#data.project_name_english".]
#list2[Условное обозначение темы — «StopAI».]

= НАЗНАЧЕНИЕ РАЗРАБОТКИ

== Функциональное назначение
#listhead2[
Прикладная программа "#data.project_name" предназначена для управления доступом пользователя к LLM/нейросетевым сервисам и формирования режима цифровой дисциплины за счёт блокировок, лимитов и правил использования, а также предоставления статистики и инструментов контроля (в т.ч. в автономном режиме).

StopAI должно предоставлять возможность пользователям проходить авторизацию (в т.ч. через Google, телефон/SMS, логин-пароль), включать блокировки по основным каналам использования ИИ (браузерный ИИ, ИИ-приложения, ИИ-боты), настраивать правила ограничений (фильтры/уровни и «постепенное ужесточение», дневные лимиты), управлять исключениями (белый список) и задавать способы временного снятия запрета (таймер/расписание). Также приложение должно поддерживать конфиденциальность и режим локального хранения данных, импорт/экспорт настроек и управление подпиской/платными возможностями.

Функционал StopAI предполагает разделение на следующие блоки функционального назначения:
]

#pad(left: 0.7em)[
+ *Регистрация и вход* -- запуск приложения и прохождение авторизации выбранным способом (Google / телефон (SMS) / логин-пароль).

+ *Профиль пользователя и базовые настройки* -- хранение пользовательских параметров (режимы, правила, исключения).

+ *Блокировка ИИ* -- включение и контроль блокировок по категориям: «Браузерный ИИ», «ИИ-приложения», «ИИ-боты», с фиксацией факта активности блокировки.

+ *Фильтры и уровни блокировки* -- настройка персональных правил, выбор уровня блокировки и механизма «постепенного ужесточения» (усиление ограничений с течением времени).

+ *Дневные лимиты* -- задание дневного лимита и проверка его статуса (лимит активен/достигнут).

+ *Разрешения и исключения (белый список)* -- добавление исключений (сайт/приложение/бот), подтверждение и проверка записи в списке.

+ *Временное снятие запрета* -- временное разрешение доступа к ИИ по таймеру (задание длительности и контроль активного таймера) и/или по расписанию (дни/время, сохранение правила и проверка).

+ *Конфиденциальность и хранение данных* -- настройка приватности (личные данные/данные действий) и выбор режима хранения, включая локальное хранение.

+ *Отчёты и статистика использования* -- ведение локальных счётчиков и отчётности (время без ИИ, количество блокировок/попыток, счётчик промптов), в т.ч. в офлайн-режиме.

+ *Подписка и монетизация* -- просмотр статуса и тарифов, оформление/изменение/отмена подписки с подтверждением в платёжной системе и обновлением статуса.

+ *Импорт/экспорт настроек* -- сохранение файла настроек (экспорт) и применение настроек из файла (импорт), включая подтверждение операции.

+ *Защита от обхода и системные режимы* -- механизмы против злоупотреблений, «атомный режим» полной блокировки без обхода, работа в фоне и другие системные ограничения/разрешения.
]

== Эксплуатационное назначение
#listhead2[
Приложение для контроля использования искусственного интеллекта «StopAI» должно предоставлять пользователям возможность ограничивать и контролировать использование LLM/нейросетевых сервисов на своих устройствах: блокировать доступ к LLM-доменам и ИИ-приложениям, задавать правила ограничений (включая таймер и расписание), вести локальные счётчики и отчёты (в том числе счётчик промптов), а также обеспечивать работу ключевых функций в офлайн-режиме.
]

#list2[
Основными конечными потребителями разрабатываемой программы являются образовательные учреждения, пользователи, практикующие AI-detox и цифровую фокусировку, а также компании и государственные структуры, работающие с конфиденциальными данными. Отдельную группу составляют организации и специалисты из отраслей с нулевой толерантностью к ошибкам (например, финансы, медицина, юриспруденция), где важны контроль качества результатов, снижение рисков утечек данных и недопущение использования «приблизительных» ответов.
]


= ТРЕБОВАНИЯ К ПРОГРАММЕ

== Требования к функциональным характеристикам

=== Требования к составу выполняемых функций

==== Регистрация и создание учётной записи
#h(0em)

#pad(left: 6.4em)[
- Приложение должно предоставлять пользователю возможность создать аккаунт по логину (уникальное имя) и паролю.
- Экран регистрации содержит поля: «Имя пользователя», «Пароль», «Повтор пароля».
- Поле пароля должно поддерживать скрытие/отображение вводимого значения.
- При проверке ввода приложение отображает понятное сообщение об ошибке; при успехе — выполняет регистрацию через API и сохраняет сессию (токен) локально.
]

==== Вход в аккаунт
#h(0em)

#pad(left: 6.4em)[
- Приложение должно поддерживать вход по действующей паре логин/пароль.
- Экран входа содержит поля: «Имя пользователя», «Пароль», а также элемент скрытия/показа пароля.
- При ошибке аутентификации выводится уведомление; при успехе пользователь попадает на главный экран приложения.
]

==== Профиль и настройки
#h(0em)

#pad(left: 6.4em)[
- Раздел «Профиль» предназначен для просмотра сведений об аккаунте и изменения параметров приложения.
- Отображаемые сведения: имя пользователя, число завершённых сессий (при наличии данных от API), текущая дата.
- Переключение темы оформления: светлая/тёмная (с сохранением выбора).
- Краткая инструкция: как подключиться к комнате по коду и как понимать статус синхронизации.
- Просмотр локальных шаблонов персонажей, созданных пользователем ранее.
]

==== Главный экран
#h(0em)

#pad(left: 6.4em)[
1. Главный экран предназначен для подключения к игровой комнате и обзора доступных публичных комнат.

2. Элементы главного экрана:]
#pad(left: 7.8em)[
- кнопка «Присоединиться по коду» (ввод идентификатора комнаты);
- список публичных комнат (если доступно по API): отображается имя мастера/название комнаты и текущее число подключённых игроков, а также кнопка подключения.]

#pad(left: 6.4em)[3. Навигация приложения реализуется через нижнюю панель вкладок:]
#pad(left: 7.8em)[
- «Игры» (подключение/список комнат),
- «Персонажи» (шаблоны и редактор),
- «Профиль» (настройки).]

#pad(left: 6.4em)[4. Активная вкладка должна визуально выделяться, переключение выполняется одним нажатием.]

==== Шаблоны персонажей
#h(0em)

#pad(left: 6.4em)[
- Во вкладке «Персонажи» пользователь управляет шаблонами листов персонажей.
- Список шаблонов отображает краткую карточку: Имя, Раса, Класс, Уровень.
- Создание нового шаблона доступно по кнопке «Создать персонажа» и открывает форму заполнения листа.
- Редактирование шаблона включает ввод основных сведений, характеристик, боевых параметров, инвентаря и заметок (см. требования к входным данным).
- Модификаторы характеристик вычисляются автоматически: floor((значение − 10) / 2).
- Итог навыка вычисляется как «модификатор соответствующей характеристики + бонус мастерства (если отмечено владение)».
- При сохранении выполняется валидация. Корректный шаблон сохраняется в локальное хранилище устройства и, при наличии сети, синхронизируется с сервером.
]

==== Игровая комната
#h(0em)

#pad(left: 6.4em)[
1. Приложение должно обеспечивать подключение к комнате по коду/идентификатору и работу с листом персонажа в рамках сессии.

2. После подключения игрок видит:]
#pad(left: 7.8em)[
- подтверждение входа в комнату,
- индикатор состояния синхронизации (актуально / синхронизация / ошибка сети),
- свой лист персонажа в режиме «игровой сессии».
]

#pad(left: 6.4em)[
3. Изменения, выполненные мастером (например, HP, опыт, состояния), должны отображаться на устройстве игрока без перезапуска приложения, при условии активной сессии.

4. Выход из комнаты выполняется по действию пользователя «Выйти из комнаты». При обрыве связи допускается переподключение с восстановлением данных с сервера.
]

==== Кубики и журнал
#h(0em)

#pad(left: 6.4em)[
- Приложение должно предоставлять игроку инструмент бросков кубиков и просмотр истории.
- Поддерживаемые кости: d4, d6, d8, d10, d12, d20, d100.
- Результат броска добавляется в локальный журнал, а при активной комнате отправляется в общий лог комнаты.
]

=== Требования к организации входных данных
#listhead3[Валидация селекторов: для всех полей типа "Селектор" система должна поддерживать состояние "не выбрано" (null/пустая строка). Это состояние допустимо в черновике, но недопустимо при финальной валидации. Интерфейс не должен предоставлять пользователю опцию выбрать "пустую строку" вручную, если значение уже было установлено.]

=== Требования к организации выходных данных
#listhead3[
Выходные данные мобильного приложения — это графическое представление экранов (шаблоны, лист персонажа, комната, журнал бросков), уведомления и сообщения статуса синхронизации.
]
#list3[
Интерфейс должен обновляться при:
]
#pad(left: 3.8em)[
- действиях пользователя (ввод/переключение экранов);
- получении изменений от сервера (обновления комнаты/листа);
- изменении сетевого состояния (онлайн/офлайн).
]

=== Требования к временным характеристикам
==== Отклик интерфейса
#listhead4[
На устройствах, удовлетворяющих минимальным требованиям (см. 4.4), приложение должно обеспечивать:
]
#pad(left: 6.5em)[
- реакцию на локальные действия (открытие экрана, прокрутка, переключение вкладок) — до 0.5 с;
- операции, требующие сети (вход, подключение к комнате, синхронизация изменений) — отображение результата до 2 с.
]

==== Синхронизация
#listhead4[
При наличии соединения изменения должны становиться видимыми пользователю не позднее 1 с после подтверждения сервером.
]

=== Требования к интерфейсу мобильного приложения
#h(0em)

#pad(left: 3.7em)[
- Интерфейс рассчитан на пользователей без технической подготовки: понятные подписи, подсказки и ошибки “человеческим” языком.
- Основной режим работы — вертикальная ориентация; элементы управления должны быть удобны для касания пальцем.
- Навигация должна быть однозначной: пользователь всегда понимает, где он находится (заголовок/вкладка/кнопка назад).
- При ошибках ввода приложение обязано выделять проблемное поле и показывать причину.
- При старте заполнения листа поля должны иметь базовые значения (пусто/null для строк/селекторов, 0 для чисел, false для флагов).
]

== Требования к надежности

=== Требования к обеспечению надежного функционирования программы

#listhead3[Приложение «StopAI» не должно непредвиденно прерывать свою работу при выполнении пользователем основных операций (включение/выключение блокировок, настройка лимитов, таймера, расписания, исключений, импорт/экспорт настроек, просмотр статистики). Для устойчивой работы разрабатываемого приложения необходимо:]

#pad(left: 3.7em)[
+ Бесперебойная работа клиентских компонентов приложения на устройстве пользователя без самопроизвольного отключения.

+ Сохранность пользовательских настроек и правил блокировки при перезапуске приложения, перезагрузке устройства, переходе устройства в сон и при потере питания.

+ Атомарное сохранение конфигурации (правила, расписания, белый список, лимиты), исключающее повреждение данных при аварийном завершении работы приложения.

+ Восстановление режима блокировки после перезапуска приложения или устройства: после запуска StopAI должны применяться последние сохранённые правила.

+ Корректная работа приложения при отсутствии доступа к сети: пользователь должен получать уведомление об офлайн-режиме, при этом локальные блокировки и правила должны продолжать работать.

+ Плановая проверка программного обеспечения на наличие неисправностей и ошибок (обработка исключений, журналирование критичных ошибок, самотестирование ключевых модулей при запуске).]

=== Время восстановления после отказа
#h(0em)

#pad(left: 3.7em)[
+ Время восстановления работоспособности приложения после сбоя, не требующего устранения (перезапуск приложения пользователем), не должно превышать времени запуска приложения и применения последней конфигурации правил (не более 5 секунд на устройстве, удовлетворяющем пункту 4.4.1.).

+ Время восстановления функций блокировки после перезапуска/перезагрузки устройства не должно превышать времени запуска соответствующего клиентского компонента и применения правил (не более 10 секунд).

+ Время восстановления программы после сбоя, требующего устранения (обновление/переустановка/исправление конфигурации), не должно превышать времени устранения неисправностей и повторной настройки приложения.]

=== Контроль входной и выходной информации
#h(0em)

#pad(left: 3.7em)[
+ Входные данные пользователя (лимиты, расписания, таймеры, правила, исключения/белый список, параметры импорта) должны проверяться на корректность, допустимые диапазоны и формат (см. пункты 4.1.2 и 4.1.3.).

+ При некорректно введённых входных данных пользователю должно отображаться понятное сообщение об ошибке с указанием причины и способа исправления.

+ При импорте настроек приложение должно проверять файл на целостность и корректность структуры; при невозможности применения настроек должна отображаться ошибка, а текущая конфигурация не должна повреждаться.

+ В случае невозможности отображения выходных данных (статистики, статуса блокировки, состояния подписки) пользователю должно отображаться сообщение об ошибке или уведомление о временной недоступности функции, без нарушения работы механизмов блокировки.]

== Условия эксплуатации

=== Климатические условия эксплуатации

#listhead3[Требования к климатическим условиям эксплуатации программного продукта «StopAI» совпадают с требованиями к климатическим условиям эксплуатации, установленными производителями устройств пользователя (персональный компьютер, мобильное устройство), а также с требованиями производителей сетевого оборудования.]

=== Требования к видам обслуживания

#listhead3[Должны осуществляться мероприятия по обеспечению надежного функционирования программы (см. пункт 4.2.1), включая:]

#pad(left: 3.8em)[
- установку обновлений приложения и его компонентов (при наличии);

- периодическую проверку корректности работы механизмов блокировки и применимости правил;

- контроль свободного места на устройстве для хранения настроек и локальных данных (журналов/статистики);

- резервное копирование/экспорт настроек при необходимости (особенно перед обновлениями или сменой устройства).]

=== Требования к численности и квалификации персонала

#listhead3[Требований к численности и квалификации персонала не предъявляется. Эксплуатация приложения осуществляется конечным пользователем самостоятельно. Для корпоративного/образовательного использования может потребоваться администратор для первичной настройки политики ограничений, однако специальных требований к квалификации не устанавливается.]

== Требования к составу и параметрам технических средств

=== Требования к клиентскому оборудованию
#h(0em)

#pad(left: 3.7em)[
- Для корректной работы приложения «StopAI» пользователь должен иметь устройство, удовлетворяющее следующим требованиям:]

#pad(left: 4.6em)[
1. Наличие одного из поддерживаемых типов платформ:]
#pad(left: 6em)[
- персональный компьютер/ноутбук (Windows или macOS) для настольного клиента или браузерных компонентов;
- мобильное устройство (Android или iOS) для мобильного клиента;
- веб-браузер с поддержкой HTML5 и JavaScript (для работы веб-интерфейса или расширения).]

#pad(left: 4.6em)[
2. Наличие интернет-соединения для функций, требующих сети (авторизация, управление подпиской, загрузка обновлений). При отсутствии сети приложение должно сохранять работоспособность локальных механизмов контроля и блокировки.]

#pad(left: 4.6em)[
3. Наличие устройств ввода:]
#pad(left: 6em)[
- клавиатура и мышь/тачпад (для ПК/ноутбука);
- сенсорный экран (для мобильных устройств).]

#pad(left: 4.6em)[
4. Наличие устройств вывода:]
#pad(left: 6em)[
- дисплей/экран устройства, обеспечивающий отображение интерфейса приложения;
- устройство воспроизведения звука для уведомлений.]

#pad(left: 3.7em)[
- Рекомендуемые браузеры для работы веб-компонентов:]
#pad(left: 4.6em)[
1. Google Chrome или аналогичный Chromium-браузер;
2. Яндекс.Браузер (при использовании в учебной/корпоративной среде);
3. Safari (на macOS/iOS).]

=== Требования к серверному оборудованию

#listhead3[Приложение «StopAI» может функционировать в режиме без обязательного серверного компонента. При использовании серверной части (для авторизации, управления подпиской, хранения профиля и синхронизации настроек) серверное оборудование должно удовлетворять следующим требованиям.]

#pad(left: 3.7em)[
- Минимальные требования к серверному оборудованию для штатной нагрузки:]
#pad(left: 4.6em)[
1. 2 виртуальных ядра CPU (Intel/AMD или аналог).
2. 8 ГБ оперативной памяти.
3. 20 ГБ дискового пространства (SSD рекомендуется) под сервисы и журналы.
4. Стабильное интернет-соединение со скоростью не менее 50 Мбит/с.]

#pad(left: 3.7em)[
- Рекомендуемые требования к серверному оборудованию для штатной нагрузки:]
#pad(left: 4.6em)[
1. 4 виртуальных ядер CPU (Intel/AMD или аналог).
2. 16 ГБ оперативной памяти.
3. 100 ГБ дискового пространства (SSD).
4. Стабильное интернет-соединение со скоростью не менее 100 Мбит/с.]

#pad(left: 3.7em)[
- Общие требования к серверному оборудованию:]
#pad(left: 4.6em)[
1. Наличие операционной системы Linux.
2. Наличие возможности безопасного доступа к серверу (SSH) и развертывания обновлений.
3. Наличие механизмов резервного копирования конфигурации и данных.
4. Наличие средств мониторинга и журналирования (для диагностики отказов и инцидентов).]

== Требования к информационной безопасности

=== Требования к исходным кодам и языкам программирования

#listhead3[Исходные коды программного продукта «StopAI» должны быть разработаны с использованием технологий, обеспечивающих кроссплатформенность клиентских компонентов и возможность расширения функциональности.]

#pad(left: 3.8em)[
- Исходный код клиентской части (веб-интерфейс и расширение браузера) должен быть написан на языках TypeScript/JavaScript с использованием современных фреймворков/библиотек для разработки пользовательского интерфейса (React).

- Исходный код настольного клиента должен быть написан на языке и с использованием платформы, обеспечивающих работу на Windows и macOS (кроссплатформенные решения на базе Electron).

- Исходный код мобильного клиента должен быть написан на языке и с использованием платформы, обеспечивающих работу на Android и iOS (Flutter/Dart).

- Серверная часть должна быть реализована на языках и платформах, обеспечивающих устойчивую работу веб-сервисов (Java).

- Хранение данных на сервере должно осуществляться с использованием СУБД, обеспечивающей надёжность и целостность данных (реляционная база данных). Для файловых данных допускается использование объектного S3-хранилища.]

#list3[Кодовая база должна сопровождаться документацией по сборке и развертыванию, включая перечень зависимостей, версии инструментов и инструкции по запуску в тестовой и продуктивной средах.]

=== Требования к защите информации и программ

#listhead3[Приложение «StopAI» должно обеспечивать защиту пользовательских данных и корректную работу механизмов контроля доступа к ИИ-сервисам. Для этого должны быть выполнены следующие требования:]

#pad(left: 3.8em)[
1. Приложение не должно собирать и передавать третьим лицам персональные данные пользователя и содержимое его запросов (промптов), за исключением случаев, когда пользователь явно дал согласие и это требуется для предоставления конкретной функции (облачная синхронизация).

2. Конфиденциальные данные (учётные данные, сведения о подписке, настройки блокировок, белый список) должны храниться в защищённом виде на устройстве пользователя (в системных хранилищах ключей/учётных данных) и на сервере.

3. Передача данных по сети должна осуществляться только по защищённым каналам связи (TLS/HTTPS).

4. Должны быть предусмотрены меры защиты от несанкционированного изменения правил блокировки:]
#pad(left: 5.2em)[
- подтверждение критичных действий (снятие блокировки, отключение защиты, добавление исключений);
- защита настроек от случайного удаления/повреждения (включая резервирование через экспорт настроек).]

#pad(left: 3.8em)[
5. Должны быть предусмотрены меры защиты от обхода ограничений в пределах возможностей платформы (обнаружение факта остановки компонента блокировки и уведомление пользователя).

6. Должна быть обеспечена целостность конфигурации при импорте настроек: входные файлы должны проверяться, а при ошибке импорта текущая конфигурация не должна изменяться.

7. Журналы и отчёты не должны содержать избыточных чувствительных данных; должны поддерживаться очистка/сброс статистики пользователем.

8. При обнаружении ошибок, влияющих на безопасность (невозможность применить блокировку), пользователю должно отображаться уведомление о снижении уровня защиты и рекомендации по восстановлению работоспособности.]

=== Требования к защите информации при хранении и обработке

#listhead3[Данные конфигурации, статистика и настройки должны храниться с соблюдением принципа минимизации: хранить только те сведения, которые необходимы для работы функций приложения. Приоритетным считается локальное хранение данных; использование облачного хранения допускается только при наличии согласия пользователя.]

=== Требования к программной совместимости механизмов защиты

#listhead3[Механизмы блокировки и контроля должны корректно функционировать на поддерживаемых платформах (Windows, macOS, Android, iOS, браузеры) и не должны нарушать работу других приложений и системных сервисов, кроме ограничиваемых ИИ-ресурсов в рамках настроенных правил.]

== Требования к транспортированию и хранению
#listhead2[
Поставка приложения осуществляется через репозиторий проекта (GitHub). Хранение исходного кода и артефактов сборки выполняется средствами системы контроля версий.
]

= ТРЕБОВАНИЯ К ПРОГРАММНОЙ ДОКУМЕНТАЦИИ

== Состав документации
#list2[
1. "#data.project_name". Техническое задание (ГОСТ 19.201-78).
2. "#data.project_name". Пояснительная записка (ГОСТ 19.404-79 [10]).
3. "#data.project_name". Программа и методика испытаний (ГОСТ 19.301-79 [11]).
4. "#data.project_name". Текст программы (ГОСТ 19.401-78 [12]).
5. "#data.project_name". Руководство оператора (ГОСТ 19.505-79 [13]).
]

== Специальные требования
#list2[
1. Документы к программе должны быть выполнены в соответствии с ГОСТ 19.106–78 и ГОСТами к каждому виду документа (см. п. 5.1.).
2. Документация в формате .pdf и программа должны быть сданы в электронном виде в архиве формата .zip или .rar.
]

= ТЕХНИКО-ЭКОНОМИЧЕСКИЕ ПОКАЗАТЕЛИ
== Ориентировочная экономическая эффективность
#listhead2[В рамках данной работы не предусматривается расчет экономической эффективности.]

== Предполагаемая потребность
#listhead2[Игра ДнД широко известна по всему миру, у нее огромная база фанатов, которые играют в нее годами. Игра требует большое количество бумаги и другой канцелярии, которую частично сможет заменить разрабатываемый в рамках реализации данного технического задания продукт. Разрабатываемое приложение позволит старым игрокам удобнее организовать игровой процесс, а также сделает порог входа в коммьюнити ниже за счет доступности и удобства интерфейса.]

== Экономические преимущества разработки по сравнению с отечественными и зарубежными аналогами
#listhead2[Разрабатываемое в рамках данного ТЗ ПО является конкурентоспособным продуктом, поскольку имеет базовый
функционал, который присутствует у всех её значимых аналогов, а также дополнительных функционал, отсутствующий у конкурентов. Сравнение  «Онлайн лист для персонажа ДнД 5» с аналогами представлено в таблице 1.]

== Сравнительный анализ
#listhead2[При обзоре аналогов были выявлены следующие значимые критерии для сравнительного анализа:]

#list2[*Платформы*]

#list2[1. Наличие русской локализации]
#list2[Адаптация интерфейса и контента платформы под русский язык. Данный функционал снижает порог вхождения для русскоязычных пользователей и устраняет языковой барьер при использовании сложной терминологии НРИ.]

#list2[2. Темная и светлая тема]
#list2[Возможность переключения цветовой схемы интерфейса между темным и светлым режимами. Позволяет пользователю адаптировать внешний вид приложения под условия освещения, снижая нагрузку на зрение при длительных игровых сессиях.]

#list2[*Аутентификация и профиль*]

#list2[3. Регистрация и вход]
#list2[Обеспечение доступа к системе через создание уникальной учетной записи или использование протокола OAuth сторонних сервисов. Данный функционал позволяет пользователю сохранить прогресс, шаблоны и настройки, а также ускоряет процесс входа в систему без необходимости запоминания новых паролей (в случае с соцсетями).]

#list2[*Управление игровыми сессиями*]

#list2[4. Создание и настройка игровой комнаты]
#list2[Функционал генерации изолированного цифрового пространства для проведения игры с возможностью назначения ролей (Мастер/Игрок). Позволяет организовать закрытую сессию для конкретной группы людей.]

#list2[5. Вход в комнату по коду или ссылке]
#list2[Механизм подключения к сессии через уникальный идентификатор или прямой URL-адрес. Упрощает процесс сбора игроков, позволяя мгновенно присоединиться к игре без поиска комнаты в общем списке.]

#list2[6. Режим трансляции]
#list2[Функционал, позволяющий выводить состояние игрового поля или важную информацию на общий экран (или в стрим). Обеспечивает возможность зрителям или игрокам наблюдать за ходом игры в реальном времени.]

#list2[*Ролевая система и листы персонажей*]

#list2[7. Цифровой лист персонажа]
#list2[Реализация интерактивной анкеты персонажа, соответствующей стандартам популярных игровых систем. Позволяет хранить всю информацию о герое в структурированном виде, исключая потерю данных, свойственную бумажным носителям.]

#list2[8. Автоматизация заполнения и подсчетов]
#list2[Алгоритмы, автоматически заполняющие навыки, бонусы и модификаторы на основе выбранной расы, класса и введенных характеристик. Данный функционал значительно экономит время на создание персонажа и минимизирует математические ошибки игроков в процессе подготовки.]

#list2[9. Сохранение шаблона листа персонажа]
#list2[Возможность сохранить созданного персонажа в аккаунте для использования в будущих играх. Позволяет игроку быстро переносить любимых героев между разными кампаниями.]

#list2[10. Конвертация листа в PDF]
#list2[Экспорт заполненного листа персонажа в формат переносимого документа. Позволяет сохранить локальную копию персонажа, распечатать его для офлайн-игры или передать мастеру вне платформы.]

#list2[*Игровая механика*]

#list2[11. Виртуальный бросок кубиков (к2–к100)]
#list2[Генератор псевдослучайных чисел, имитирующий броски стандартных для НРИ костей (к2, к4, к6, к8, к10, к12, к20, к100). Обеспечивает честность результатов и позволяет играть без наличия физических дайсов.]

#list2[12. Вопрос магическому шару]
#list2[Дополнительный инструмент рандомизации для получения простых ответов ("Да/Нет/Возможно"). Позволяет Мастеру или игрокам быстро разрешать спорные или незначительные сюжетные ситуации.]

#list2[13. Журналы бросков (общий и индивидуальный)]
#list2[Ведение истории всех действий и результатов бросков. Общий журнал обеспечивает прозрачность игры для всех участников, а индивидуальный позволяет игроку анализировать свою статистику и результаты.]

#list2[14. Отображение деталей броска]#list2[Визуализация автора броска и типа использованного кубика в логе. Данный функционал предотвращает путаницу в очередности ходов и позволяет точно определить источник действия.]

#list2[*Инструментарий мастера*]

#list2[15. Управление характеристиками персонажей]
#list2[Возможность Мастера изменять параметры персонажей игроков (например, здоровье, опыт) в реальном времени. Позволяет Мастеру оперативно реагировать на игровые события, не дожидаясь, пока игрок внесет изменения сам.]

#list2[16. Мониторинг подключенных игроков]
#list2[Отображение списка активных участников сессии у Мастера. Позволяет контролировать присутствие игроков и техническую стабильность сессии.]

#list2[17. Подтверждение изменений]
#list2[Механизм верификации изменений, инициированных Мастером. Обеспечивает синхронизацию данных между клиентом игрока и сервером, предотвращая конфликты версий листа персонажа.]

#list2[18. Завершение сессии]
#list2[Функционал корректного закрытия игровой комнаты с сохранением текущего прогресса. Гарантирует, что все данные сессии будут сохранены в базе данных для последующего продолжения игры.]

#set page(flipped: false)

#let plus = table.cell(
  fill: green.lighten(60%),
  align: center + horizon,
)[+]

#let minus = table.cell(
  fill: red.lighten(60%),
  align: center + horizon,
)[-]

#let platforms = (
    [*Наш сервис*],
    [Roll20],
    [DnD Beyond],
    [Foundry VTT\ (dnd5e)],
    [Aternia],
    [Wayground],
)

#table(
        // 1-й столбец: 35% ширины, остальные 6 столбцов делят место поровну (1fr)
        columns: (60%,) + (1fr,) * platforms.len(), 
        
        rows: (auto, auto),
        
        // Выравнивание: первый столбец влево, остальные по центру
        align: (col, row) => if col == 0 { left + horizon } else { center + horizon },
        stroke: 0.5pt + gray.lighten(50%),
        
        table.header(
            [Function],
            ..platforms.map(col => rotate(-90deg, reflow: true, col))
        ),

        // Блок: Регистрация и Вход
        [Регистрация по логину и паролю], plus, plus, plus, minus, minus, plus,
        [Регистрация по Google почте], minus, minus, plus, minus, plus, plus,
        [Регистрация по Яндекс почте], minus, minus, minus, minus, plus, minus,
        [Вход по логину и паролю], plus, plus, plus, plus, minus, plus,
        
        // Блок: Комнаты и Персонажи
        [Создание игровой комнаты], plus, plus, plus, plus, minus, plus,
        [Создание листа персонажа до игры (стандартные поля)], plus, plus, plus, plus, plus, minus,
        [Сохранение шаблона листа персонажа в аккаунте], plus, plus, plus, minus, plus, minus,
        
        // Блок: Дайсы (Кубики)
        [Возможность бросить к2], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к4], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к6], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к8], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к10], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к12], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к20], plus, plus, plus, plus, plus, minus,
        [Возможность бросить к100], plus, plus, plus, plus, plus, minus,
        [Вопрос магическому шару], plus, minus, minus, minus, plus, minus,
        
        // Блок: Журналы
        [Наличие общего журнала бросков], plus, plus, plus, plus, minus, minus,
        [Наличие индивидуального журнала бросков], plus, minus, minus, minus, plus, minus,
        
        // Блок: Функционал
        [Режим трансляции], plus, minus, minus, minus, minus, plus,
        [Наличие русской локализации], plus, minus, minus, minus, plus, minus,
        [Вход в комнату по коду], plus, minus, minus, minus, minus, plus,
        [Вход в комнату по ссылке], plus, plus, plus, plus, plus, plus,
        
        // Блок: Роли
        [Наличие роли мастера], plus, plus, plus, plus, minus, plus,
        [Наличие роли игрока], plus, plus, plus, plus, minus, plus,
        
        // Блок: Механики Мастера и Автоматизация
        [Изменение мастером характеристик во время игры], plus, plus, minus, plus, minus, minus,
        [Авто-подсчет модификаторов], plus, plus, plus, plus, plus, minus,
        [Авто-заполнение навыков (раса/класс)], plus, plus, plus, plus, minus, minus,
        [Авто-заполнение бонусов (раса/класс)], plus, plus, plus, plus, minus, minus,
        [Завершение сессии мастером], plus, minus, minus, minus, minus, plus,
        [Отображение списка игроков у мастера], plus, plus, plus, plus, minus, plus,
        
        // Блок: Отображение и UI
        [Отображение изменений характеристик у всех], plus, plus, minus, plus, plus, minus,
        [Подтверждение изменений от мастера], plus, minus, minus, minus, minus, minus,
        [Отображение автора броска], plus, plus, plus, plus, plus, minus,
        [Отображение типа кубика], plus, plus, plus, plus, plus, minus,
        [Конвертация листа в PDF], plus, minus, plus, plus, plus, minus,
        [Темная / светлая тема], plus, minus, minus, minus, plus, minus,[Возможность выхода игрока из комнаты], plus, minus, plus, minus, minus, plus,
    )

#list2[*Сравнительный анализ показал, что основными конкурентами для разрабатываемого приложения являются:*]

#pad(left: 1em)[
- В качестве средства организации игровой комнаты WayGround, поскольку позволяет:]
#pad(left: 1.9em)[
+ Создавать игровые комнаты для совместной игровой сессии
+ Поделиться создателю комнаты уникальным кодом комнаты или ссылкой для подключения
+ Подключаться игрокам по уникальному коду комнаты/ссылке
+ Предоставлять и отображать общую информацию об игроках создателю комнаты
+ Выходить игроку из комнаты во время игры]

#pad(left: 1em)[
- В качестве средства создания и хранения основной информации (см. приложение В) Aternia, поскольку позволяет:]
#pad(left: 1.9em)[
+ Заполнять и хранить информацию в листе о персонаже
+ Бросать различные игральные кубики]

#list2[*Разрабатываемое приложение соединит возможности классических игровых сессий и тематических игровых платформ DnD, поскольку позволит:*]
#pad(left: 1em)[
- Заполнять данные карточки (см. приложение В) для персонажа в ДнД5
- Создавать игровые комнаты для сессий из нескольких игроков
- Хранить шаблоны карточки в аккаунте 
- Бросать различные кубики для продвижения сюжетной линии игры
- Транслировать общую информацию создателю комнаты (мастеру) на экран]


= СТАДИИ И ЭТАПЫ РАЗРАБОТКИ
== Стадии разработки, этапы и содержание работ

#h(2.8em)Стадии и этапы разработки были выявлены с учетом ГОСТ 19.102-77.

#let column_names = (
  [*Стадия\ разработки*],
  [*Этап работ*],
  [*Содержание работ*],
  [*Исполнители*],
  [*Сроки\ выполнения*],
)

#table(
  columns: (3fr, 3fr, 4fr, 3fr, auto),
  rows: (15mm, auto),
  align: center + horizon,
  table.header(..column_names),

  // ============================================================
  // ТЕХНИЧЕСКОЕ ЗАДАНИЕ (только Брынцев А.В.)
  // ============================================================
  table.cell(
    rowspan: 8,
    align: horizon,
    rotate(0deg, reflow: true)[*Техническое задание*],
  ),

  // --- Предварительный выбор методов решения задач (01.12.25 -- 05.12.25) ---
  table.cell(
    rowspan: 5,
    align: horizon,
    rotate(0deg, reflow: true)[Научно-исследовательский этап разработки],
  ),

  align(left)[
    1) Сформировать критерии выбора метода (скорость разработки, риски, совместимость с API, UX-ограничения мобильного клиента)
  ],
  [Брынцев А. В.],
  [01.12.25],

  align(left)[
    2) Собрать 2–3 альтернативных подхода и описать плюсы/минусы (архитектура клиента, хранение, синхронизация)
  ],
  [Брынцев А. В.],
  [02.12.25],

  align(left)[
    3) Сравнить варианты по критериям и зафиксировать предварительный выбор
  ],
  [Брынцев А. В.],
  [03.12.25],

  align(left)[
    4) Описать выбранный подход: схема модулей мобильного клиента + формат взаимодействия с сервером (на уровне интерфейсов)
  ],
  [Брынцев А. В.],
  [04.12.25],

  align(left)[
    5) Подготовить итоговую формулировку для включения в ТЗ (коротко, без лишней теории)
  ],
  [Брынцев А. В.],
  [05.12.25],

  // --- Загрузка согласованного ТЗ в SmartLMS (16.12.25) ---
  table.cell(
    rowspan: 3,
    align: horizon,
    rotate(0deg, reflow: true)[Разработка и утверждение технического задания],
  ),

  align(left)[
    1) Проверить комплектность файлов (pdf/архив), корректность названий и версий
  ],
  [Брынцев А. В.],
  [16.12.25],

  align(left)[
    2) Выполнить загрузку материалов в SmartLMS согласно требованиям дисциплины
  ],
  [Брынцев А. В.],
  [16.12.25],

  align(left)[
    3) Провести финальную проверку: открытие файлов, читаемость, соответствие загруженного содержимому
  ],
  [Брынцев А. В.],
  [16.12.25],

  // ============================================================
  // РАБОЧИЙ ПРОЕКТ (только Брынцев А.В.)
  // ============================================================
  table.cell(
    rowspan: 7,
    align: horizon,
    rotate(0deg, reflow: true)[*Рабочий проект*],
  ),

  table.cell(
    rowspan: 7,
    align: horizon,
    rotate(0deg, reflow: true)[Разработка программы],
  ),

  // --- Программирование и отладка мобильного приложения (20.01.26 -- 22.03.26) ---
  align(left)[
    1) Инициализация проекта: каркас экранов, навигация, базовые стили, структура пакетов
  ],
  [Брынцев А. В.],
  [20.01.26 --\ 26.01.26],

  align(left)[
    2) Аутентификация: экраны входа/регистрации, хранение токена, обработка ошибок
  ],
  [Брынцев А. В.],
  [27.01.26 --\ 02.02.26],

  align(left)[
    3) Локальные шаблоны персонажей: создание/редактирование/удаление, сохранение в локальную БД устройства
  ],
  [Брынцев А. В.],
  [03.02.26 --\ 16.02.26],

  align(left)[
    4) Редактор листа: валидация полей, автоподсчёты (модификаторы, бонус мастерства, навыки)
  ],
  [Брынцев А. В.],
  [17.02.26 --\ 02.03.26],

  align(left)[
    5) Комнаты и синхронизация: подключение по коду/списку, получение/отправка обновлений, статус синхронизации
  ],
  [Брынцев А. В.],
  [03.03.26 --\ 09.03.26],

  align(left)[
    6) Инструменты игрока: броски кубиков, локальный журнал, отображение событий сессии (если доступно по API)
  ],
  [Брынцев А. В.],
  [10.03.26 --\ 16.03.26],

  align(left)[
    7) Отладка и стабилизация: офлайн-режим, переподключение, обработка сетевых сбоев, регресс-тест сценариев
  ],
  [Брынцев А. В.],
  [17.03.26 --\ 22.03.26],
)

== Сроки разработки и исполнители
#v(0.4em)

#list2[Программный продукт должен быть завершен не позднее ХХХ – утвержденного срока
загрузки программы и программной документации в Smart LMS.

Исполнители – Брынцев Андрей Вячеславович.]

= ПОРЯДОК КОНТРОЛЯ И ПРИЕМКИ

== Виды испытаний

#listhead2[Руководитель проекта имеет право проводить проверку программного продукта «StopAI» на соответствие техническому заданию и другим утверждённым требованиям на любом этапе разработки. Проверка может включать в себя следующие виды испытаний:]

#pad(left: 0.9em)[
+ Полное и частичное функциональное тестирование (проверка сценариев: регистрация/вход, включение блокировки, настройка лимитов, таймера и расписаний, управление белым списком, импорт/экспорт настроек, просмотр статистики, управление подпиской).

+ Тестирование устойчивости и отказоустойчивости (работа приложения при перезапуске, отсутствии сети, сбоях клиентских компонентов; корректное восстановление последней конфигурации блокировок).

+ Тестирование производительности (время запуска приложения, время применения правил блокировки, отсутствие заметных задержек интерфейса при типовой нагрузке).

+ Тестирование удобства пользования (проверка понятности интерфейса и сообщений об ошибках, минимизация числа шагов для ключевых действий).

+ Тестирование информационной безопасности (проверка защищённого хранения конфигурации, корректности работы по HTTPS/TLS, отсутствие утечек чувствительных данных в журналах, контроль критичных действий).]

== Общие требования к приемке работы

#listhead2[Приёмка работы может быть осуществлена только при корректной работе программы в соответствии с функциональными требованиями технического задания при различных входных данных и настройках, а также при наличии полной сопроводительной документации к продукту (см. пункт 5.1.).]

#list2[Сдача проекта и его отдельных частей выполняется в сроки, установленные календарным графиком работ настоящего технического задания. В случае обнаружения критических несоответствий требованиям технического задания продукт направляется на доработку с последующим повторным проведением испытаний.]

#set heading(numbering: none)
= СПИСОК ИСПОЛЬЗУЕМОЙ ЛИТЕРАТУРЫ

1. ГОСТ 19.101-77: Виды программ и программных документов. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
2. ГОСТ 19.102-77: Стадии разработки. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
3. ГОСТ 19.103-77: Обозначения программ и программных документов. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
4. ГОСТ 19.104-78: Основные надписи. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
5. ГОСТ 19.105-78: Общие требования к программным документам. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
6. ГОСТ 19.106-78: Требования к программным документам, выполненным печатным способом. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
7. ГОСТ 19.201-78: Техническое задание. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
8. ГОСТ 19.603-78: Общие правила внесения изменений. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
9. ГОСТ 19.604-78: Правила внесения изменений в программные документы, выполненные печатным способом. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
10. ГОСТ 19.404-79: Пояснительная записка. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
11. ГОСТ 19.301-79: Программа и методика испытаний. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
12. ГОСТ 19.401-78: Текст программы. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.
13. ГОСТ 19.505-79: Руководство оператора. Требования к содержанию и оформлению. \// Единая система программной документации. – М.: ИПК Издательство стандартов, 2001.

#app_letter.update("А")
#app_table.update(1)
= ПРИЛОЖЕНИЕ А. ССЫЛКИ НА АНАЛОГИ

#app_table_fig(
  [Ссылки на аналоги],
  table(
    columns: (80mm, 80mm),
    rows: (10mm, auto),
    align: center + horizon,
    table.header([*Приложение*], [*Ссылка*]),

    [DnD], [https://www.dndbeyond.com/en],
    [Roll20], [https://roll20.net/],
    [Foundry VTT], [https://foundryvtt.com/packages/dnd5e],
    [Aternia], [https://aternia.games/i/dnd/character_sheet]
  ),
) <tab:analogs>

#app_letter.update("Б")
#app_table.update(1)